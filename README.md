# VkBot
## Установка/запуск  
  (у меня бот билдится и запускается на сервере >> опишу порядок действий для запуска на https://dashboard.heroku.com/)
  * Зарегистрироваться на https://dashboard.heroku.com/
  * Создать на сайте New app и дать ему ***(имя)***
  * Скачать Heroku CLI https://devcenter.heroku.com/articles/heroku-cli (для работы нужен Git консольный)
  * Прописать в консоле (находясь в каталоге проекта):
    - heroku login
    - git init
    - heroku git:remote -a ***(имя)***
    - heroku buildpacks:set https://github.com/jincod/dotnetcore-buildpack.git -a ***(имя)***
    - git add .
    - git commit -am "*что-угодно*"
    - git push heroku master
* (Теперь можно будет пушить обновы на сервер последними 3мя командами сколько угодно)
* Далее нужно создать паблик в вк.
* Паблик >> Управление >> Работа с API -> /создать ключ доступа/ >> Callback API -> вставить в Адрес https://***(имя)***.herokuapp.com/api/callback
* В файл appsettings.json надо вставить ключ из предыдущего пункта и "Строку, которую должен вернуть сервер"
* Запушить на сервер и подтвердить адресс в вк
## Функционал
В групповом чате(при обращении к нему) или в личке воспринимает 2 типа сообщений
  1. Произвольный текст:
  2. Команды, начинающиеся с !
### Произвольный текст
Должен содержать название валюты в нестрогом виде на русском языке.  
*(Опционально)* Может сожержать название города(из списка).  
*(Опционально)* Может содержать ключевые слова для сортировки результатов поиска.  
Результат: дублирует запрос. Если тот корректен, присылает название валюты, город(если был задан), критерий сортировки(если был задан), список банков и цены на валюту.
### Команды
Должны иметь строгую форму(вплоть до символа).
Список и описание:
  1. !help - присылает список команд и их краткое описание.
  2. !гайд - присылает описание работы с произвольным текстом.
  3. !города - присылает список доступных городов.
  4. !город *(название)* - проверяет наличия города в базе данных, присылает ответ.
  5. !валюты - присылает список доступных валют.
  6. !цб - присылает описание работы поиска курса по дате.
  7. !цб *(валюта)* *(дата)* - ищет курс валюты в заданный день.
